<!DOCTYPE html>
<html>
<head>
    <title>Update Product</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<div class="update-wrapper">
    <div class="update-card">

        <h2>Update Product</h2>

        <!-- Flash Messages -->
        <div class="flash-container">
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% for category, message in messages %}
            <div class="flash {{ category }}">{{ message }}</div>
          {% endfor %}
        {% endwith %}
        </div>

        <form method="POST"
              action="/admin/update-item/{{ product.product_id }}"
              enctype="multipart/form-data">

            <label>Product Name:</label>
            <input type="text" name="name"
                   value="{{ product.name }}" required>

            <label>Description:</label>
            <textarea name="description" required>{{ product.description }}</textarea>

            <label>Category:</label>
            <input type="text" name="category"
                   value="{{ product.category }}" required>

            <label>Price:</label>
            <input type="number" step="0.01"
                   name="price"
                   value="{{ product.price }}" required>

            <label>Old Image:</label>
            <div class="old-image-preview">
                <img src="{{ url_for('static', filename='uploads/product_images/' ~ product.image) }}">
            </div>

            <label>Choose New Image (Optional):</label>
            <input type="file" name="image" accept="image/*">

            <button type="submit" class="update-btn">
                Update Product
            </button>

        </form>

        <a href="/admin/item-list" class="back-link">
            ‚Üê Back to Product List
        </a>

    </div>
</div>

</body>
</html>