<!DOCTYPE html>
<html>
<head>
    <title>Admin Profile</title>
    <!-- <link href="bootstrap.css" rel="stylesheet"> -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body class="admin-profile-page">
   
<div class="profile-card">
<h2>Admin Profile</h2>

<!-- Flash Messages -->
{% with messages = get_flashed_messages(with_categories=true) %}
  {% for category, message in messages %}
    <p style="color:red;">{{ message }}</p>
  {% endfor %}
{% endwith %}

<!-- Current Profile Image -->
{% if admin.profile_image %}
    <img src="/static/uploads/admin_profiles/{{ admin.profile_image }}" 
         width="150" height="150" style="border-radius:50%;"><br><br>

         <form method="POST" action="/admin/remove-profile-image">
        <button type="submit" class="remove-img-btn">
            Remove Profile Image
        </button>
    </form>
{% else %}
    <img src="/static/uploads/admin_profiles/default_avatar.png"
             width="150" height="150" style="border-radius:50%;">
{% endif %}

<form method="POST" action="/admin/profile" enctype="multipart/form-data">

    <label>Name:</label><br>
    <input type="text" name="name" value="{{ admin.name }}" required><br><br>

    <label>Email:</label><br>
    <input type="email" name="email" value="{{ admin.email }}" required><br><br>

    <label>New Password (optional):</label><br>
    <input type="password" name="password"><br><br>

    <label>Upload New Profile Image (optional):</label><br>
    <input type="file" name="profile_image" accept="image/*"><br><br>

    <button type="submit">Update Profile</button>
</form>

<br>
<a href="/admin-dashboard" class="back-btn">
    ‚Üê Back to Dashboard
</a>
</div>

</body>
</html>